"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var _path=_interopRequireDefault(require("path")),_cheerio=_interopRequireDefault(require("cheerio")),_loaderUtils=require("loader-utils");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _default(a){var b=(0,_loaderUtils.getOptions)(this),c=_path.default.normalize(b.allowPath),d=_path.default.normalize(this.rootContext),e=_path.default.normalize(this.resourcePath),f=_path.default.resolve(d,c);if(0!==e.indexOf(f))return a;var g=_cheerio.default.load(a,{xmlMode:!0,decodeEntities:!1}),h=/\.{3}(['"][.~@$/\w-]+\/([\w-]+).vue['"])/gim;return g("script").each(function(a,b){var c=[];b.children[0].data=b.children[0].data.replace(h,function(a,b,d){var e="_vue_import_loader_".concat(d.replace(/[^\w]/g,"_"),"_");return c.push({filePath:b,variableName:e}),"'".concat(d,"-': ").concat(e)}),b.children[0].data=c.map(function(a){return"import ".concat(a.variableName," from ").concat(a.filePath,";\n")}).join("")+b.children[0].data}),g.html()}